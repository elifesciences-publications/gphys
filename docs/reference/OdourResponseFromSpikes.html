<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Produce table of spiking responses (optionally subtracting baseline) — OdourResponseFromSpikes • gphys</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Produce table of spiking responses (optionally subtracting baseline) — OdourResponseFromSpikes" />

<meta property="og:description" content="Details: If baseline window is of different duration to response window
the baseline count is normalised to estimate the number of spikes that would have
occurred during the response window. ie if you have a 1s response window and a
5s baseline window and you get 10 spikes in the response period and 5 spikes in
the baseline period, the response will be returned as 10-5/5 = 9 spikes." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gphys</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.12</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Produce table of spiking responses (optionally subtracting baseline)</h1>
    
    <div class="hidden name"><code>OdourResponseFromSpikes.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Details: If baseline window is of different duration to response window
the baseline count is normalised to estimate the number of spikes that would have
occurred during the response window. ie if you have a 1s response window and a
5s baseline window and you get 10 spikes in the response period and 5 spikes in
the baseline period, the response will be returned as 10-5/5 = 9 spikes.</p>
    
    </div>

    <pre class="usage"><span class='fu'>OdourResponseFromSpikes</span>(<span class='no'>spiketimes</span>, <span class='no'>responseWindow</span>,
  <span class='kw'>baselineWindow</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>freq</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>spiketimes</th>
      <td><p>list of spiketimes collected by CollectSpikesFromSweeps</p></td>
    </tr>
    <tr>
      <th>responseWindow</th>
      <td><p>vector of start and end time of odour response (in ms)</p></td>
    </tr>
    <tr>
      <th>baselineWindow</th>
      <td><p>vector of start and end time of baseline period (in ms)</p></td>
    </tr>
    <tr>
      <th>freq</th>
      <td><p>Calculate Spike rate in Hz rather than number of spikes per response window</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>dataframe with a column for each odour and row for each sweep</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other OdourResponse: <code><a href='PlotOdourResponseFromSpikes.html'>PlotOdourResponseFromSpikes</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>spikes</span><span class='kw'>=</span><span class='fu'><a href='CollectSpikesFromSweeps.html'>CollectSpikesFromSweeps</a></span>(
  <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/system.file'>system.file</a></span>(<span class='st'>'igor'</span>,<span class='st'>'spikes'</span>,<span class='st'>'nm20110914c4'</span>,<span class='kw'>package</span><span class='kw'>=</span><span class='st'>'gphys'</span>),
  <span class='kw'>subdir</span><span class='kw'>=</span><span class='st'>'BLOCKI'</span>,<span class='kw'>sweeps</span><span class='kw'>=</span><span class='fl'>0</span>:<span class='fl'>4</span>)
<span class='no'>od</span><span class='kw'>=</span><span class='fu'>OdourResponseFromSpikes</span>(<span class='no'>spikes</span>,<span class='kw'>response</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>2200</span>,<span class='fl'>2700</span>),<span class='kw'>baseline</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>0</span>,<span class='fl'>2000</span>))
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/summary'>summary</a></span>(<span class='no'>od</span>)</div><div class='output co'>#&gt;       ctr             fly             4ol             cVA       
#&gt;  Min.   :-1.50   Min.   :-1.25   Min.   :-1.50   Min.   :-1.75  
#&gt;  1st Qu.:-0.75   1st Qu.:-0.75   1st Qu.:-1.00   1st Qu.:-1.00  
#&gt;  Median :-0.25   Median :-0.75   Median :-0.50   Median :-0.50  
#&gt;  Mean   :-0.35   Mean   :-0.65   Mean   :-0.75   Mean   :-0.65  
#&gt;  3rd Qu.: 0.00   3rd Qu.:-0.25   3rd Qu.:-0.50   3rd Qu.: 0.00  
#&gt;  Max.   : 0.75   Max.   :-0.25   Max.   :-0.25   Max.   : 0.00  
#&gt;       IAA             PAA      
#&gt;  Min.   :-1.25   Min.   :18.0  
#&gt;  1st Qu.:-0.25   1st Qu.:20.0  
#&gt;  Median :-0.25   Median :20.5  
#&gt;  Mean   : 0.10   Mean   :21.1  
#&gt;  3rd Qu.: 0.25   3rd Qu.:23.0  
#&gt;  Max.   : 2.00   Max.   :24.0  </div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/apply'>apply</a></span>(<span class='no'>od</span>,<span class='fl'>2</span>,<span class='kw'>function</span>(<span class='no'>x</span>) <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='kw'>mean</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/mean'>mean</a></span>(<span class='no'>x</span>),<span class='kw'>sd</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/stats/topics/sd'>sd</a></span>(<span class='no'>x</span>)))</div><div class='output co'>#&gt;             ctr      fly   4ol        cVA      IAA       PAA
#&gt; mean -0.3500000 -0.65000 -0.75 -0.6500000 0.100000 21.100000
#&gt; sd    0.8403868  0.41833  0.50  0.7416198 1.193734  2.408319</div><div class='input'>
<span class='co'># show baseline response frequency only (by treating that as response)</span>
<span class='no'>od2</span><span class='kw'>=</span><span class='fu'>OdourResponseFromSpikes</span>(<span class='no'>spikes</span>,<span class='kw'>response</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>0</span>,<span class='fl'>2000</span>),<span class='kw'>freq</span><span class='kw'>=</span><span class='fl'>TRUE</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/summary'>summary</a></span>(<span class='no'>od2</span>)</div><div class='output co'>#&gt;       ctr           fly           4ol           cVA           IAA     
#&gt;  Min.   :0.0   Min.   :0.5   Min.   :0.5   Min.   :0.0   Min.   :0.5  
#&gt;  1st Qu.:0.5   1st Qu.:0.5   1st Qu.:1.0   1st Qu.:0.0   1st Qu.:0.5  
#&gt;  Median :0.5   Median :1.5   Median :1.0   Median :1.0   Median :1.5  
#&gt;  Mean   :1.1   Mean   :1.3   Mean   :1.5   Mean   :1.3   Mean   :1.4  
#&gt;  3rd Qu.:1.5   3rd Qu.:1.5   3rd Qu.:2.0   3rd Qu.:2.0   3rd Qu.:2.0  
#&gt;  Max.   :3.0   Max.   :2.5   Max.   :3.0   Max.   :3.5   Max.   :2.5  
#&gt;       PAA     
#&gt;  Min.   :0.0  
#&gt;  1st Qu.:1.0  
#&gt;  Median :2.0  
#&gt;  Mean   :1.8  
#&gt;  3rd Qu.:2.0  
#&gt;  Max.   :4.0  </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>jefferis</p>
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Gregory Jefferis.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

