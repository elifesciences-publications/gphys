<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Calculate lifetime sparseness according to Olsen et al. 2008 — lifetime_sparseness • gphys</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Calculate lifetime sparseness according to Olsen et al. 2008 — lifetime_sparseness" />

<meta property="og:description" content="Calculate lifetime sparseness according to Olsen et al. 2008" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gphys</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.12</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate lifetime sparseness according to Olsen et al. 2008</h1>
    
    <div class="hidden name"><code>lifetime_sparseness.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Calculate lifetime sparseness according to Olsen et al. 2008</p>
    
    </div>

    <pre class="usage"><span class='fu'>lifetime_sparseness</span>(<span class='no'>x</span>, <span class='kw'>minodours</span> <span class='kw'>=</span> <span class='fl'>0.75</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>matrix of odour data with one column per odour, 1 row per cell</p></td>
    </tr>
    <tr>
      <th>minodours</th>
      <td><p>Minimum number of odours required to compute valid score 
(see details)</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>named numeric vector, one entry for each row (neuron) in x</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>minodours is interpreted as fraction when &lt;=1. If &gt;1 it is assumed 
  then there must be &gt;= that many odour responses. Any cells that have been 
  tested for fewer than than minodours will have a sparseness value of NA. 
  Definition:</p>  
<p>S = 1/(1-1/N)*( 1 - (sum(r/N)^2)/(sum(r^2/N)) )</p>  
<p>where N is the number of odours and r is the analogue response intensity of
  the neuron to odour j minus baseline firing rate. Analogue response 
  intensity was the mean spike rate (averaged across five sweeps) during the 
  entire 500-ms odour stimulus period. Any values of rj &lt; 0 were set to zero 
  before computing lifetime sparseness (this was the only analysis in this 
  study in which negative responses were zeroed). Responses to paraffin oil 
  (solvent control) were not considered in the sparseness analysis. We 
  computed the lifetime sparseness for each individual cell in our study for 
  which we tested at least 12 of the odours in our set. We used the 
  Mann--Whitney U test to assess the significance of sparseness differences.</p>
    
    <h2 class="hasAnchor" id="missing-values-nas-"><a class="anchor" href="#missing-values-nas-"></a>Missing Values (NAs)</h2>

    <p>When there are missing values in <code>x</code>, 
  they are omitted silently. NAs do not count towards the value of N, the 
  number of responses /cell in the equation above.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Olsen S.R. and Wilson R.I. (2008). Lateral presynaptic inhibition
  mediates gain control in an olfactory circuit. Nature 452 (7190), 956--960.
  <a href='http://doi.org/10.1038/nature06864'>doi:10.1038/nature06864</a></p>  
<p>Willmore B. and  Tolhurst D.J.(2001). Characterizing the sparseness of 
  neural codes. Network Comput. Neural Syst. 12, 255 (2001) 
  <a href='http://doi.org/10.1080/net.12.3.255.270'>doi:10.1080/net.12.3.255.270</a></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>spikes</span><span class='kw'>=</span><span class='fu'><a href='CollectSpikesFromSweeps.html'>CollectSpikesFromSweeps</a></span>(
  <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/system.file'>system.file</a></span>(<span class='st'>'igor'</span>,<span class='st'>'spikes'</span>,<span class='st'>'nm20120514c2'</span>,<span class='kw'>package</span><span class='kw'>=</span><span class='st'>'gphys'</span>),
  <span class='kw'>subdir</span><span class='kw'>=</span><span class='st'>'BLOCKA'</span>)
<span class='no'>od</span><span class='kw'>=</span><span class='fu'><a href='OdourResponseFromSpikes.html'>OdourResponseFromSpikes</a></span>(<span class='no'>spikes</span>,<span class='kw'>response</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>2200</span>,<span class='fl'>2700</span>),<span class='kw'>baseline</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>0</span>,<span class='fl'>2000</span>))
<span class='co'># NB we take mean response per odour since we must end up with one number</span>
<span class='co'># per odour per cell</span>
<span class='no'>S</span><span class='kw'>=</span><span class='fu'>lifetime_sparseness</span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/colSums'>colMeans</a></span>(<span class='no'>od</span>))</div><div class='output co'>#&gt; <span class='warning'>Warning: Zeroing 1 responses &lt; 0</span></div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/data.frame'>data.frame</a></span>(<span class='kw'>odour</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/colnames'>colnames</a></span>(<span class='no'>od</span>), <span class='kw'>S</span><span class='kw'>=</span><span class='no'>S</span>)</div><div class='output co'>#&gt;    odour         S
#&gt; 1    IAA 0.7138722
#&gt; 2    cVA 0.7138722
#&gt; 3    pro 0.7138722
#&gt; 4    PAA 0.7138722
#&gt; 5    4ol 0.7138722
#&gt; 6    ctr 0.7138722
#&gt; 7    vin 0.7138722
#&gt; 8  ctr.1 0.7138722
#&gt; 9    fly 0.7138722
#&gt; 10   far 0.7138722
#&gt; 11   oen 0.7138722
#&gt; 12   pac 0.7138722
#&gt; 13   aac 0.7138722</div><div class='input'>
<span class='co'># check what happens with NAs</span>
<span class='no'>od2</span><span class='kw'>=</span><span class='no'>od</span>
<span class='no'>od2</span>[<span class='fl'>5</span>,<span class='st'>'cVA'</span>]<span class='kw'>=</span><span class='fl'>NA</span>
<span class='fu'>lifetime_sparseness</span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/colSums'>colMeans</a></span>(<span class='no'>od2</span>))</div><div class='output co'>#&gt; <span class='warning'>Warning: Zeroing 1 responses &lt; 0</span></div><div class='output co'>#&gt; [1] 0.7545164</div><div class='input'>
<span class='co'># compare with a sparse cell</span>
<span class='no'>spikes2</span><span class='kw'>=</span><span class='fu'><a href='CollectSpikesFromSweeps.html'>CollectSpikesFromSweeps</a></span>(
  <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/system.file'>system.file</a></span>(<span class='st'>'igor'</span>,<span class='st'>'spikes'</span>,<span class='st'>'nm20110914c4'</span>,<span class='kw'>package</span><span class='kw'>=</span><span class='st'>'gphys'</span>),
  <span class='kw'>subdir</span><span class='kw'>=</span><span class='st'>'BLOCKI'</span>, <span class='kw'>sweeps</span><span class='kw'>=</span><span class='fl'>0</span>:<span class='fl'>4</span>)
<span class='no'>od3</span><span class='kw'>=</span><span class='fu'><a href='OdourResponseFromSpikes.html'>OdourResponseFromSpikes</a></span>(<span class='no'>spikes2</span>,<span class='kw'>response</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>2200</span>,<span class='fl'>2700</span>),<span class='kw'>baseline</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>0</span>,<span class='fl'>2000</span>))
<span class='fu'>lifetime_sparseness</span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/colSums'>colMeans</a></span>(<span class='no'>od3</span>))</div><div class='output co'>#&gt; <span class='warning'>Warning: Zeroing 4 responses &lt; 0</span></div><div class='output co'>#&gt; [1] 0.9981043</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#missing-values-nas-">Missing Values (NAs)</a></li>

      <li><a href="#references">References</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Gregory Jefferis.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

